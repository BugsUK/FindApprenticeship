@model AccountUnlockViewModel

@{
    ViewBag.Title = "SFA Apprenticeships - Account Unlock";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (TempData["ResentCode"] != null)
{
    <div class="panel-success">
        <p id="ResentCodeText" class="text"><i class="fa fa-check"></i>An account unlock code was sent to @Model.EmailAddress</p>
    </div>
}

<h1 id="account-unlock-h1" class="heading-large">Account locked</h1>
<p class="text">You should receive a 6-character code in your email. Enter the code to unlock your account.</p>

@using (Html.BeginForm("Unlock", "Login", FormMethod.Post, new { @id = "account-unlock-form" }))
{
    <div class="form-group">
        <p class="form-label">Email address</p>
        <span id="EmailAddressText" class="form-prepopped">@Html.DisplayFor(m => m.EmailAddress)</span>
    </div>

    @Html.Partial("ValidationSummary", ViewData.ModelState)

    @Html.FormTextFor(m => m.AccountUnlockCode, controlHtmlAttributes: new { @maxlength = "6" }, containerHtmlAttributes: new { @class = "form-group-withlink" })

    <div class="form-group">
        <p>
            @Html.ActionLink(
                linkText: "Resend code",
                actionName: "ResendAccountUnlockCode",
                routeValues: new { @emailAddress = Model.EmailAddress },
                htmlAttributes: new { @id = "ResendAccountUnlockCodeLink" })
        </p>
        
    </div>

    <div class="form-group">
        <button class="button" id="verify-code-button">Unlock account</button>
    </div>

    @Html.HiddenFor(m => m.EmailAddress)
}
