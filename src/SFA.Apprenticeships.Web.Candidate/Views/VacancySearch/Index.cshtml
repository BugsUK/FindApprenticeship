@model VacancySearchViewModel

@{
    ViewBag.Title = "Apprenticeships - Find an apprenticeship";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="hgroup">
    <h1 class="heading-xlarge">Find an apprenticeship</h1>
    <h2 class="subtitle">Search and apply for an apprenticeship in England</h2>
</div>
<div class="grid-wrapper">

    <div class="grid-wrapper controls-3-4">
        <section class="grid grid-2-3">
            @using (Html.BeginForm("results", "vacancysearch", FormMethod.Get, new { @id = "#searchForm" }))
            {
                @Html.Partial("ValidationSummary", ViewData.ModelState)

                @Html.FormTextFor(m => m.Keywords)
                @Html.FormTextFor(m => m.Location)

                <div class="form-group">
                    <label for="loc-within" class="form-label">Within</label>
                    @Html.DropDownListFor(m => m.WithinDistance, (SelectList)ViewBag.Distances, new { @id = "loc-within", @name = "WithinDistance" })
                </div>

                <div class="form-group">
                    <button class="button" id="search-button">Search</button>
                </div>

                @Html.HiddenFor(m => m.Latitude)
                @Html.HiddenFor(m => m.Longitude)
                @Html.Hidden("Hash", Model.LatLonLocHash())
            }
            <div class="form-group">
                <p>You can also apply for apprenticeships in other parts of the UK</p>
                <ul>
                    <li><a rel="external" href="http://www.nidirect.gov.uk/apprenticeshipsni">Apprenticeships in Northern Ireland</a></li>
                    <li><a rel="external" href="http://www.mappit.org.uk/">Apprenticeships in Scotland</a></li>
                    <li><a rel="external" href="https://ams.careerswales.com/Public/Default.aspx?mode=vacancy&amp;timenow=164517">Apprenticeships in Wales</a></li>
                </ul>
            </div>
        </section>
        <aside class="grid grid-1-3">
            <div class="inner-block">
                <div class="gov-border">
                    <h2 class="heading-medium">Elsewhere on GOV.UK</h2>
                    <a href="#">About apprenticeships</a>
                </div>
            </div>
        </aside>
    </div>
</div>

@section scripts
{   
    <script src="~/Content/_assets/js/vendor/jquery-ui-1.10.4.custom.min.js" type="text/javascript"></script>
    <script src="~/Content/_assets/js/nas/locationAutocomplete.js" type="text/javascript"></script>
    <script>
        $("#Location").locationMatch({
            url: '@Url.Action("location", "Location")',
            longitude: '#@(Html.IdFor(m => m.Longitude))',
            latitude: '#@(Html.IdFor(m => m.Latitude))',
            latlonhash: '#@(Html.IdFor(m => m.Hash))'
        });
    </script>
}