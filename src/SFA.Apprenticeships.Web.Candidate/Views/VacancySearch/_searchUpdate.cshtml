@model VacancySearchViewModel

<section class="grid grid-1-3">
    <fieldset class="search-filter">

        <legend class="heading-medium mob-collpanel-trigger" id="editSearchToggle">Edit search</legend>
        <div class="mob-collpanel toggle-content--mob" id="editSearchPanel">

            @Html.FormTextFor(m => m.Keywords, hintText: "")
            @Html.FormTextFor(m => m.Location, hintText: "")
            
            @if (ViewBag.LocationSearches != null && ViewBag.LocationSearches.Length > 0)
            {
                <details open class="open form-group form-group-compound">
                    <summary>Did you mean:</summary>
                    <div class="detail-content panel-indent">
                        <ul id="location-suggestions" class="list-text list-max-11">
                            @foreach (var locationSearch in ViewBag.LocationSearches)
                            {
                                <li><a href="@Url.Action("results", locationSearch)">@locationSearch.Location</a></li>
                            }
                        </ul>
                    </div>
                </details>
            }

            @* TODO::Create a form control for this. *@
            <div class="form-group">
                <label for="loc-within" class="form-label">Within</label>
                @Html.DropDownListFor(m => m.WithinDistance, (SelectList)ViewBag.Distances, new { @id = "loc-within", @name = "WithinDistance" })
            </div>
            <div class="form-group map-container hide-nojs">
                <div id="map-canvas" style="width: 100%; height: 250px"></div>
            </div>

            @Html.HiddenFor(m => m.Latitude)
            @Html.HiddenFor(m => m.Longitude)
            @Html.Hidden("Hash", Model.LatLonLocHash())
           
            <div class="form-group">
                <button class="button" id="search-button" name="SearchAction" value="Search">Update results</button>
            </div>
        </div>
    </fieldset>

</section>