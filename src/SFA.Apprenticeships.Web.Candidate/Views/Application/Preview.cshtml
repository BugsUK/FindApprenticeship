@model SFA.Apprenticeships.Web.Candidate.ViewModels.Applications.ApplicationViewModel

@{
    ViewBag.Title = "SFA Apprenticeships - Apply for Vacancy";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1 class="heading-xlarge">Previewing vacancy</h1>
<section class="section-border">
    <div class="text">
        <div class="hgroup-medium">
            <h3 class="heading-medium">@Model.VacancyDetail.Title</h3>
            <span class="subtitle">@Model.VacancyDetail.EmployerName</span>
        </div>
        <p>@Model.VacancyDetail.Description</p>
    </div>
</section>

@Html.DisplayFor(m => m.Candidate)
@Html.DisplayFor(m => m.Candidate.Education)

<fieldset id="applyQualifications" class="fieldset-with-border">
    <legend class="heading-large">
        Qualifications
        @if (ViewBag.VacancyId != null)
        {
            <a class="icon-with-text" href="@Url.Action("Apply", "Application", new {id = ViewBag.VacancyId})#applyQualifications">
                <i class="the-icon fa fa-pencil"></i>
                <span class="the-text">Amend details</span>
            </a>
        }
    </legend>
    <div class="qualifications-wrapper">
        <div class="qualification-table" id="gcse">           
            <table class="grid-3-4">
                <colgroup>
                    <col class="t40">
                    <col class="t25">
                    <col class="t15">
                    <col>
                </colgroup>
                <thead>
                    <tr>
                        <th class="th-qualSubject">
                            <span class="heading-span">Subject</span>
                        </th>
                        <th class="th-qualGrade">
                            <span class="heading-span">Grade</span>
                        </th>
                        <th class="th-qualYear">
                            <span class="heading-span">Year</span>
                        </th>
                    </tr>
                </thead>
                <tbody class="tbody-qual">
                    @foreach (var qualification in Model.Candidate.Qualifications)
                    {
                        <tr class="tr-qualRow">
                            <td class="td-qualcell">
                                <input class="form-control qual-input-edit form-prepopped" type="text" value="@qualification.Subject" readonly>
                            </td>
                            <td class="td-qualcell">
                                <input class="form-control qual-input-edit form-prepopped" type="text" value="@qualification.Grade" readonly>
                            </td>
                            <td class="td-qualcell">
                                <input class="form-control qual-input-edit form-prepopped" type="text" value="@qualification.Year" readonly>
                            </td>                          
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

</fieldset>

<fieldset class="fieldset-with-border">    
    <legend class="heading-large">
        Work experience
        @if (ViewBag.VacancyId != null)
        {
            <a class="icon-with-text" href="@Url.Action("Apply", "Application", new {id = ViewBag.VacancyId})#applyWorkExperience">
                <i class="the-icon fa fa-pencil"></i>
                <span class="the-text">Amend details</span>
            </a>
          
        }
    </legend>
    @foreach (var experience in Model.Candidate.WorkExperience)
    {
        <div class="work-history-wrapper grid-3-4">
            <div class="grid-wrapper work-history-item">
               
                <div class="grid grid-1-2">
                    <table class="table-no-btm-border table-compound">
                        <colgroup>
                            <col class="t100">
                            <col>
                        </colgroup>
                        <thead>
                            <tr>
                                <th>
                                    <span class="heading-span">Work experience</span>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input type="text" class="form-prepopped cell-span editable-work"
                                           value="@experience.Employer">
                                    <span class="cell-span editable-work">@experience.Employer</span>
                                    <span class="form-prepopped cell-span work-hyphen">-</span>                                   
                                    <span class="form-prepopped cell-span editable-work">@experience.JobTitle</span>
                                    <div></div>                                 
                                    <span class="form-prepopped cell-span editable-work">@experience.Description</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="grid grid-1-2">
                    <table class="table-no-btm-border table-compound">
                        <colgroup>
                            <col class="t30">
                            <col class="t30">
                            <col class="t25">
                            <col class="t15">
                            <col>
                        </colgroup>
                        <thead>
                            <tr>
                                <th>
                                    <span class="heading-span">From</span>
                                </th>
                                <th>
                                    <span class="heading-span">To</span>
                                </th>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>                                
                                    <span class="form-prepopped cell-span editable-work">@experience.FromYear</span>
                                </td>
                                <td>                                   
                                    <span class="form-prepopped cell-span editable-work">@experience.ToYear</span>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    }

</fieldset>



@Html.DisplayFor(m => m.Candidate.AboutYou)
@Html.DisplayFor(m => m.Candidate.EmployerQuestionAnswers)

<div class="form-group">
    @Html.ActionLink("Submit application", "SubmitApplication", new {@applicationId = Model.ApplicationViewId}, new {@class = "button"})
</div>